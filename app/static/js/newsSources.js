var _allSources = {};
_allSources["9to5Mac"] = ['ca', 'ie', 'my', 'ph', 'sg', 'us'];
_allSources["ABC News"] = ['ca', 'sa', 'us'];
_allSources["Al Jazeera English"] = ['au', 'ca', 'in', 'sa'];
_allSources["allkpop"] = ['my', 'sg'];
_allSources["Android Authority"] = ['in', 'ie', 'my', 'nz', 'ph', 'sa', 'za', 'gb', 'us'];
_allSources["aul Tan's Automotive New"] = ['my'];
_allSources["BBC News"] = ['au', 'ca', 'ie', 'my', 'ng', 'ph', 'sa', 'za', 'gb', 'us'];
_allSources["Bloomberg"] = ['my', 'nz', 'sg', 'us'];
_allSources["Bulletinline.com"] = ['ng', 'ph'];
_allSources["Business Times"] = ['sg'];
_allSources["Businesstech.co.za"] = ['za'];
_allSources["Castanet.net"] = ['ca', 'sa'];
_allSources["CBC News"] = ['ca', 'sa'];
_allSources["CBS News"] = ['ca', 'my', 'nz', 'ph', 'sa', 'us'];
_allSources["CinemaBlend"] = ['ca', 'ph', 'sa', 'us'];
_allSources["CNA"] = ['my', 'nz', 'sg'];
_allSources["CNBC"] = ['ca', 'my', 'nz', 'ng', 'sa', 'sg', 'us'];
_allSources["CNET"] = ['au', 'ca', 'in', 'ie', 'my', 'nz', 'ph', 'sa', 'za', 'us'];
_allSources["CNN"] = ['ca', 'ng', 'sa', 'us'];
_allSources["Ctvnews.ca"] = ['ca', 'sa'];
_allSources["Daily Mail"] = ['au', 'in', 'ie', 'my', 'nz', 'ph', 'sa', 'sg', 'gb', 'us'];
_allSources["Daily Post Nigeria"] = ['ng'];
_allSources["Deadline"] = ['ng', 'sa', 'gb', 'us'];
_allSources["Dublin Live"] = ['ie'];
_allSources["Engadget"] = ['ca', 'sa', 'us'];
_allSources["ESPN"] = ['my', 'sa', 'sg', 'za', 'us'];
_allSources["Essentially Sports"] = ['in', 'ng', 'sa', 'us'];
_allSources["EurekAlert"] = ['in', 'ie', 'nz', 'ng', 'sg'];
_allSources["EWN"] = ['za'];
_allSources["Express"] = ['in', 'ie', 'my', 'nz', 'ng', 'ph', 'sa', 'sg', 'za', 'gb'];
_allSources["Financial Times"] = ['ng', 'sg', 'gb'];
_allSources["Firstpost"] = ['in', 'my', 'nz', 'ng', 'sg'];
_allSources["Football365.com"] = ['ie'];
_allSources["Forbes"] = ['ca', 'ng', 'ph'];
_allSources["Fox News"] = ['in', 'my', 'nz', 'ng', 'ph', 'sa', 'sg', 'us'];
_allSources["Fox Sports"] = ['au'];
_allSources["Free Malaysia Today"] = ['my'];
_allSources["Futurism"] = ['ca', 'in', 'ie', 'za'];
_allSources["GIVEMESPORT"] = ['in', 'my', 'ph', 'za', 'gb'];
_allSources["GlobeNewswire"] = ['ng', 'ph'];
_allSources["Google News"] = ['au', 'ca', 'in', 'ie', 'my', 'nz', 'ng', 'ph', 'sa', 'sg', 'za', 'gb', 'us'];
_allSources["GSMArena.com"] = ['ca', 'in', 'nz', 'ng', 'ph'];
_allSources["Hindustan Times"] = ['in'];
_allSources["HITC - Football, Gaming, Movies, TV, Music"] = ['au', 'ca', 'in', 'ie', 'my', 'nz', 'ng', 'ph', 'sg', 'za'];
_allSources["IGN"] = ['sa', 'sg', 'us'];
_allSources["Independent"] = ['ie', 'ph', 'sa', 'gb'];
_allSources["Independent.ie"] = ['ie'];
_allSources["IndiaGlitz.com"] = ['my'];
_allSources["Inquirer.net"] = ['ph'];
_allSources["IOL"] = ['za'];
_allSources["Jakarta Post"] = ['au', 'in', 'sg'];
_allSources["Live Science"] = ['au', 'ie', 'nz', 'ng', 'sa', 'sg', 'gb', 'us'];
_allSources["MacRumors"] = ['my', 'nz', 'sa', 'gb', 'us'];
_allSources["Medical Xpress"] = ['au', 'ie', 'my', 'nz', 'ng', 'sg', 'za'];
_allSources["Mirage News"] = ['au'];
_allSources["Mirror Online"] = ['ca', 'ie', 'my', 'sa', 'gb'];
_allSources["Moneycontrol"] = ['in'];
_allSources["Motley Fool"] = ['ng', 'sa', 'us'];
_allSources["Motor1 "] = ['au', 'ca', 'my', 'sg'];
_allSources["Nairametrics"] = ['ng'];
_allSources["Nature.com"] = ['ca', 'ph', 'sa', 'sg', 'gb'];
_allSources["NBC News"] = ['ph', 'sg', 'za', 'us'];
_allSources["NDTV News"] = ['in', 'ie', 'nz'];
_allSources["New York Times"] = ['my', 'sa', 'sg', 'za', 'us'];
_allSources["New Zealand Herald"] = ['nz'];
_allSources["News.com.au"] = ['au'];
_allSources["News18"] = ['in', 'ph'];
_allSources["News24"] = ['za'];
_allSources["News-Medical.Net"] = ['au', 'in', 'ie', 'my', 'nz', 'ng', 'ph', 'sg'];
_allSources["Nintendo Life"] = ['ie', 'gb'];
_allSources["Nrl.com"] = ['au', 'nz'];
_allSources["Phys.Org"] = ['au', 'ca', 'in', 'ie', 'my', 'nz', 'ng', 'ph', 'sa', 'sg', 'za', 'gb', 'us'];
_allSources["Reuters"] = ['ca', 'ie', 'nz', 'ng', 'ph'];
_allSources["RTE"] = ['ie'];
_allSources["Science Daily"] = ['ie', 'nz', 'ng', 'za'];
_allSources["ScienceAlert"] = ['au', 'ie', 'my', 'ph', 'za', 'us'];
_allSources["SciTechDaily"] = ['my', 'nz', 'ng', 'sa', 'sg', 'us'];
_allSources["Showbiz Cheat Sheet"] = ['ph', 'sa', 'us'];
_allSources["Sky Sports"] = ['ie', 'ph', 'gb'];
_allSources["SlashGear"] = ['ca', 'in', 'ie', 'my', 'nz', 'ng', 'ph', 'sg', 'za'];
_allSources["soompi"] = ['my', 'sg'];
_allSources["Space.com"] = ['ca', 'ie', 'my', 'ng', 'ph', 'sa', 'sg', 'za', 'us'];
_allSources["Sporting News"] = ['in', 'ng', 'ph', 'sg', 'za', 'gb'];
_allSources["Sports Illustrated"] = ['ca', 'ng', 'ph', 'us'];
_allSources["Sportsnet.ca"] = ['ca'];
_allSources["Stuff.co.nz"] = ['nz'];
_allSources["Teamtalk.com"] = ['sg'];
_allSources["TechCrunch"] = ['in', 'nz', 'ph'];
_allSources["TechRadar"] = ['my', 'nz', 'ng', 'sg', 'gb'];
_allSources["Techtoday19.com"] = ['au', 'ie', 'my', 'ng', 'ph', 'sg', 'za'];
_allSources["Telegraph.co.uk"] = ['sa', 'gb'];
_allSources["The Australian"] = ['au'];
_allSources["The Conversation Africa"] = ['ie', 'my', 'nz', 'ng'];
_allSources["The Edge Markets MY"] = ['my'];
_allSources["The Globe And Mail"] = ['ca', 'sa'];
_allSources["The Guardian"] = ['au', 'ca', 'ie', 'my', 'nz', 'ng', 'ph', 'sa', 'sg', 'gb'];
_allSources["The Indian Express"] = ['in', 'ph'];
_allSources["The Irish Sun"] = ['ie'];
_allSources["The Irish Times"] = ['ie'];
_allSources["The Star Online"] = ['my'];
_allSources["The Straits Times"] = ['sg'];
_allSources["The Sun"] = ['ie', 'gb'];
_allSources["The Sydney Morning Herald"] = ['au'];
_allSources["The Times of India"] = ['in', 'ie', 'nz', 'ng'];
_allSources["The Verge"] = ['au', 'ca', 'in', 'ie', 'nz', 'ng', 'ph', 'sa', 'us'];
_allSources["The42"] = ['ie'];
_allSources["Theguardian.comsociety"] = ['au', 'my', 'ph', 'sg', 'za', 'gb'];
_allSources["Theguardian.comtv-and-radio"] = ['ph', 'sa', 'gb', 'us'];
_allSources["TheJournal.ie"] = ['ie'];
_allSources["TimesLIVE"] = ['za'];
_allSources["Uconnhuskies.com"] = ['sa', 'us'];
_allSources["USA Today"] = ['sa', 'us'];
_allSources["Wired"] = ['ng', 'sa', 'sg', 'gb', 'us'];
_allSources["Www.geo.tv"] = ['nz', 'za'];
_allSources["Www.tsn.ca"] = ['ca'];
_allSources["Yahoo Entertainment"] = ['au', 'ca', 'ie', 'nz', 'ng', 'ph', 'sa', 'sg', 'gb', 'us'];
_allSources["ZDNet"] = ['ie', 'ng', 'ph', 'sg'];

function showNewsSources(aCountry)
{
    //selections = $('#newsSourceTable tr td select');
    tableCells = $('#newsSourceTable tr td');
    for(var i = 0; i < tableCells.length; i++)
    {
        var cell = tableCells[i];
        var select = cell.getElementsByTagName('select')[0];

        source = select.name;
        source = source.replace("src_", "");

        if(_allSources[source].includes(aCountry))
        {
            if (cell.style.display == "none") { cell.style.display = "block"; }
        }
        else
        {
            cell.style.display = "none";
        }
    }
}

function getNewsSource()
{
    sources = [];
    countryCode = $('select[name="country"]').children("option:selected").val();
    //console.log("Selected Country: " + countryCode);
    for(var src in _allSources)
    {
        if(_allSources[src].includes(countryCode)) { sources.push(src); }
    }

    return sources;
}

function addNewSources(aNewsSources, aSrcPref)
{
    // news Sources
//    var sources = ["CNA", "The Straits Times", "AsiaOne", "TODAYonline", "Theindependent.sg", "Google News",
//                    "Financial Times", "Business Times", "Space Daily", "Phys.Org", "TechRadar", "Digitalmarketnews.com",
//                    "Ubergizmo", "Mashable", "Yahoo Entertainment", "soompi", "The Verge", "Sporting News", "ESPN" ];
    var sources = getNewsSource();
    
    if(aNewsSources == null) { aNewsSources = sources; }
	var tableRef = $('#newsSourceTable')[0];

    $('#newsSourceTable tr').remove();
	for(var i = 0; i < aNewsSources.length; i+=3)
	{
        //console.log(i);
		var newRow = tableRef.insertRow();
        
        var newCell  = newRow.insertCell(-1);
        newCell.innerHTML = aNewsSources[i] + '<select class="form-control source" name="src_' + aNewsSources[i] + '"></select>';
			
        if(i + 1 < aNewsSources.length)
        {
            newCell  = newRow.insertCell(-1);
            newCell.innerHTML = aNewsSources[i+1] + '<select class="form-control source" name="src_' + aNewsSources[i+1] + '"></select>';
        }
        
        if(i + 2 < aNewsSources.length)
        {
            newCell  = newRow.insertCell(-1);
            newCell.innerHTML = aNewsSources[i+2] + '<select class="form-control source" name="src_' + aNewsSources[i+2] + '"></select>';
        }
	}

	setPreferences(aSrcPref, ".form-control.source"); // set interest level selections for each source
}